(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{WL79:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("tyNb"),c=n("fXoL"),o=n("AytR"),a=n("z6cu"),s=n("7o/Q");class g{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new l(t,this.count,this.source))}}class l extends s.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}var b=n("JIr8"),p=n("tk/3");let h=(()=>{class t{constructor(t){this._http=t}getAllFilterList(){return[{name:"Species",items:[{name:"Human",selected:!1},{name:"Mytholog",selected:!1},{name:"Other Species",selected:!1}]},{name:"Gender",items:[{name:"Male",selected:!1},{name:"Female",selected:!1}]},{name:"Origin",items:[{name:"Unknown",selected:!1},{name:"Post Apocalyptic Earth",selected:!1},{name:"Nuptia 4",selected:!1},{name:"Other Origins",selected:!1}]}]}getAllCharacters(t,e){return this._http.get(o.a.url+"character?page="+(e.length>0?t+e:t)).pipe(function(t=-1){return e=>e.lift(new g(t,e))}(1),Object(b.a)(this.handleError))}handleError(t){let e="";return e=t.error instanceof ErrorEvent?`Error: ${t.error.message}`:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(a.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(p.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac}),t})();var u=n("XiUz");let d=(()=>{class t{constructor(t){this.el=t}onMouseEnter(){this.highLight(this.highlightColor||"green")}onMouseLeave(){this.highLight(null)}highLight(t){this.el.nativeElement.style.backgroundColor=t}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(c.l))},t.\u0275dir=c.Gb({type:t,selectors:[["","rmsHighLight",""]],hostBindings:function(t,e){1&t&&c.Yb("mouseenter",(function(t){return e.onMouseEnter()}))("mouseleave",(function(t){return e.onMouseLeave()}))},inputs:{highlightColor:"highlightColor"}}),t})();var m=n("bSwM"),P=n("3Pt+");function f(t,e){if(1&t){const t=c.Rb();c.Qb(0,"mat-checkbox",3),c.Yb("ngModelChange",(function(n){return c.oc(t),e.$implicit.selected=n}))("change",(function(n){c.oc(t);const r=e.$implicit,i=c.cc().$implicit;return c.cc().toggleFilter(i,r)})),c.sc(1),c.Pb()}if(2&t){const t=e.$implicit;c.ic("ngModel",t.selected),c.Bb(1),c.tc(t.name)}}function C(t,e){if(1&t&&(c.Qb(0,"div",1),c.Qb(1,"h4"),c.sc(2),c.Pb(),c.rc(3,f,2,2,"mat-checkbox",2),c.Pb()),2&t){const t=e.$implicit;c.Bb(2),c.tc(t.name),c.Bb(1),c.ic("ngForOf",t.items)}}let O=(()=>{class t{constructor(){this.filterChange=new c.n}ngOnInit(){}toggleFilter(t,e){this.filterChange.emit({name:t,item:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["rms-filter"]],inputs:{filterList:"filterList"},outputs:{filterChange:"filterChange"},decls:1,vars:1,consts:[["class","f-container","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"f-container"],[3,"ngModel","ngModelChange","change",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&c.rc(0,C,4,2,"div",0),2&t&&c.ic("ngForOf",e.filterList)},directives:[r.i,u.d,m.a,P.f,P.g],styles:[".f-container[_ngcontent-%COMP%]{border:1px solid #7d7878;min-height:100px;padding:10px;margin-bottom:10px}h4[_ngcontent-%COMP%]{margin:0}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{white-space:pre-line!important}"]}),t})();var M=n("znSr");const x=function(t){return{"btn-active":t}};function _(t,e){if(1&t){const t=c.Rb();c.Qb(0,"li",5),c.Yb("click",(function(n){c.oc(t);const r=e.$implicit;return c.cc().onPage(r)})),c.Qb(1,"button",7),c.sc(2),c.Pb(),c.Pb()}if(2&t){const t=e.$implicit,n=c.cc();c.Bb(1),c.ic("ngClass",c.lc(2,x,t===n.currentPage)),c.Bb(1),c.tc(t)}}let v=(()=>{class t{constructor(){this.currentPage=1,this.perPage=20,this.prev=new c.n,this.next=new c.n,this.goPage=new c.n}ngOnInit(){}onPage(t){this.currentPage=t,this.goPage.emit(t)}isOnLastPage(){return this.perPage*this.currentPage>=this.totalItemsCount}totalPages(){return Math.ceil(this.totalItemsCount/this.perPage)||0}getMin(){return this.perPage*this.currentPage-this.perPage+1}getMax(){let t=this.perPage*this.currentPage;return t>this.totalItemsCount&&(t=this.totalItemsCount),t}onPrev(){this.onPage(this.currentPage-1)}onNext(){this.onPage(this.currentPage+1)}getPages(){const t=Math.ceil(this.totalItemsCount/this.perPage),e=this.pagesToShow||9,n=[];n.push(this.currentPage||1);const r=e-1;for(let i=0;i<r;i++)n.length<e&&Math.min.apply(null,n)>1&&n.push(Math.min.apply(null,n)-1),n.length<e&&Math.max.apply(null,n)<t&&n.push(Math.max.apply(null,n)+1);return n.sort((t,e)=>t-e),n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["rms-pagination"]],inputs:{currentPage:"currentPage",totalItemsCount:"totalItemsCount",perPage:"perPage",pagesToShow:"pagesToShow"},outputs:{prev:"prev",next:"next",goPage:"goPage"},decls:9,vars:3,consts:[["aria-label","..."],[1,"pagination"],[1,"page-item","disabled",3,"click"],["tabindex","-1",1,"page-link",3,"disabled"],["class","page-item",3,"click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link",3,"disabled"],[1,"page-link",3,"ngClass"]],template:function(t,e){1&t&&(c.Qb(0,"nav",0),c.Qb(1,"ul",1),c.Qb(2,"li",2),c.Yb("click",(function(t){return e.onPrev()})),c.Qb(3,"button",3),c.sc(4,"Previous"),c.Pb(),c.Pb(),c.rc(5,_,3,4,"li",4),c.Qb(6,"li",5),c.Yb("click",(function(t){return e.onNext()})),c.Qb(7,"button",6),c.sc(8,"Next"),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Bb(3),c.ic("disabled",1===e.currentPage),c.Bb(2),c.ic("ngForOf",e.getPages()),c.Bb(2),c.ic("disabled",e.isOnLastPage()))},directives:[r.i,r.h,M.a],styles:[".pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:inline;padding-left:0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px}.btn-active[_ngcontent-%COMP%]{background-color:#00f;color:#fff;border-color:#00f}"]}),t})();var w=n("bTqV"),Q=n("NFeN");let y=(()=>{class t{constructor(){this.removeFilter=new c.n}ngOnInit(){}removeChip(){this.removeFilter.emit(this.chipsInput)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["rms-chips"]],inputs:{chipsInput:"chipsInput"},outputs:{removeFilter:"removeFilter"},decls:7,vars:1,consts:[["fxLayoutAlign","center center",1,"chip"],["fxFlex",""],["mat-icon-button","","aria-label","Remove Filter",3,"click"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"span"),c.sc(2),c.Pb(),c.Mb(3,"span",1),c.Qb(4,"button",2),c.Yb("click",(function(t){return e.removeChip()})),c.Qb(5,"mat-icon"),c.sc(6,"clear"),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Bb(2),c.tc(e.chipsInput.item.name))},directives:[u.c,u.a,w.a,Q.a],styles:[".chip[_ngcontent-%COMP%]{border:1px solid grey;padding:5px;border-radius:5px;color:#fff;background-color:grey;margin-right:10px;margin-bottom:10px}.mat-icon-button[_ngcontent-%COMP%]{line-height:30px;width:30px;height:30px}"]}),t})(),F=(()=>{class t{getComparer(t){return function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}}getDescendigComparer(t){return function(e,n){return-1*t(e,n)}}transform(t,...e){let n=e[0],r=e[1];return t&&t.length&&n?(t.sort((t,e)=>"desc"===r?t[n]<e[n]?1:t[n]>e[n]?-1:0:t[n]<e[n]?-1:t[n]>e[n]?1:0),t):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Kb({name:"sort",type:t,pure:!0}),t})(),L=(()=>{class t{transform(t){return window.moment(t).fromNow()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Kb({name:"elaspedTime",type:t,pure:!0}),t})();function k(t,e){if(1&t){const t=c.Rb();c.Qb(0,"rms-chips",24),c.Yb("removeFilter",(function(e){return c.oc(t),c.cc(2).filterChange(e)})),c.Pb()}2&t&&c.ic("chipsInput",e.$implicit)}function I(t,e){if(1&t&&(c.Ob(0),c.rc(1,k,1,1,"rms-chips",23),c.Nb()),2&t){const t=c.cc();c.Bb(1),c.ic("ngForOf",t.selectedFilter)}}function B(t,e){if(1&t&&(c.Qb(0,"div",25),c.Qb(1,"div",26),c.Qb(2,"div",27),c.Mb(3,"img",28),c.Pb(),c.Qb(4,"div",29),c.Qb(5,"h2"),c.sc(6),c.Pb(),c.Qb(7,"p"),c.sc(8),c.dc(9,"elaspedTime"),c.Pb(),c.Pb(),c.Pb(),c.Qb(10,"div",30),c.Qb(11,"div",31),c.Qb(12,"span"),c.sc(13,"STATUS"),c.Pb(),c.Qb(14,"p"),c.sc(15),c.Pb(),c.Pb(),c.Qb(16,"div",31),c.Qb(17,"span"),c.sc(18,"SPECIES"),c.Pb(),c.Qb(19,"p"),c.sc(20),c.Pb(),c.Pb(),c.Qb(21,"div",31),c.Qb(22,"span"),c.sc(23,"GENDER"),c.Pb(),c.Qb(24,"p"),c.sc(25),c.Pb(),c.Pb(),c.Qb(26,"div",31),c.Qb(27,"span"),c.sc(28,"ORIGIN"),c.Pb(),c.Qb(29,"p"),c.sc(30),c.Pb(),c.Pb(),c.Qb(31,"div",31),c.Qb(32,"span"),c.sc(33,"LAST LOCATION"),c.Pb(),c.Qb(34,"p"),c.sc(35),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t){const t=e.$implicit;c.Bb(3),c.jc("alt",t.image),c.ic("src",t.image,c.pc),c.Bb(3),c.tc(t.name),c.Bb(2),c.vc("id: ",t.id," - ",c.ec(9,10,t.created),""),c.Bb(7),c.tc(t.status),c.Bb(5),c.tc(t.species),c.Bb(5),c.tc(t.gender),c.Bb(5),c.tc(t.origin.name),c.Bb(5),c.tc(t.location.name)}}const S=[{path:"",component:(()=>{class t{constructor(t){this._rmsService=t,this.page={count:0,currentpage:1,pages:0,perPage:20},this.selectedFilter=[]}ngOnInit(){this.filterList=this._rmsService.getAllFilterList(),this.getAllCharacters(1)}getAllCharacters(t){let e="";this.selectedFilter.length>0&&this.selectedFilter.forEach(t=>{e+="&"+t.name.name.toLowerCase()+"="+t.item.name}),this.searchName&&(e+="&name="+this.searchName),this._rmsService.getAllCharacters(t,e).subscribe(t=>{this.page.count=t.info.count,this.page.pages=t.info.pages,this.allCharacters=t.results},t=>{})}filterChange(t){let e=this.selectedFilter.findIndex(e=>e.item===t.item);-1===e?this.selectedFilter.push(t):(this.filterList.find(t=>t.name===this.selectedFilter[e].name.name).items.find(t=>t.name===this.selectedFilter[e].item.name).selected=!1,this.selectedFilter.splice(e,1)),this.getAllCharacters(this.page.currentpage)}goToPage(t){this.page.currentpage=t,this.getAllCharacters(this.page.currentpage)}sortingOnChange(t){this.sortOrder=t,this.allCharacters=[...this.allCharacters]}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(h))},t.\u0275cmp=c.Fb({type:t,selectors:[["rms-rms-list"]],decls:30,vars:13,consts:[["fxLayout","row","fxLayout.xs","column","fxFlex","","fxLayoutGap","20px"],["fxLayout","column","fxFlex","18","fxFlexOffset","20px",1,"p-fixed"],["rmsHighLight","",3,"highlightColor"],[3,"filterList","filterChange"],["fxLayout","column","fxFlex","80"],["fxLayout","column"],["fxLayout","row wrap"],["fxFlex","100"],[4,"ngIf"],["fxLayoutAlign","space-between center",1,"search-sort"],[1,"search"],["for","search"],["type","text","id","search","placeholder","",3,"ngModel","ngModelChange"],["color","primary",3,"click"],[1,"sort"],[3,"change"],["sortVar",""],["value","asc"],["value","desc"],["fxLayout","row wrap","fxFlex","",1,"cards"],["fxFlex","24","fxFlex.xs","47","class","card",4,"ngFor","ngForOf"],["fxLayoutAlign","end"],[3,"currentPage","totalItemsCount","perPage","pagesToShow","prev","next","goPage"],[3,"chipsInput","removeFilter",4,"ngFor","ngForOf"],[3,"chipsInput","removeFilter"],["fxFlex","24","fxFlex.xs","47",1,"card"],[1,"card-header"],[1,"card-image"],[3,"src","alt"],[1,"card-title"],[1,"card-info"],[1,"list-item"]],template:function(t,e){1&t&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"h3",2),c.sc(3,"Filter"),c.Pb(),c.Qb(4,"rms-filter",3),c.Yb("filterChange",(function(t){return e.filterChange(t)})),c.Pb(),c.Pb(),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"div",6),c.Qb(8,"h3",7),c.sc(9,"Selected Filters"),c.Pb(),c.rc(10,I,2,1,"ng-container",8),c.Pb(),c.Qb(11,"div",9),c.Qb(12,"div",10),c.Qb(13,"label",11),c.sc(14,"Search By Name"),c.Pb(),c.Qb(15,"input",12),c.Yb("ngModelChange",(function(t){return e.searchName=t})),c.Pb(),c.Qb(16,"button",13),c.Yb("click",(function(t){return e.getAllCharacters(e.page.currentpage)})),c.sc(17,"Search"),c.Pb(),c.Pb(),c.Qb(18,"div",14),c.Qb(19,"select",15,16),c.Yb("change",(function(t){return e.sortOrder=t.target.value})),c.Qb(21,"option",17),c.sc(22,"Ascending"),c.Pb(),c.Qb(23,"option",18),c.sc(24,"Descending"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(25,"div",19),c.rc(26,B,36,12,"div",20),c.dc(27,"sort"),c.Pb(),c.Qb(28,"div",21),c.Qb(29,"rms-pagination",22),c.Yb("prev",(function(t){return e.goToPage(t)}))("next",(function(t){return e.goToPage(t)}))("goPage",(function(t){return e.goToPage(t)})),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Bb(2),c.ic("highlightColor","orange"),c.Bb(2),c.ic("filterList",e.filterList),c.Bb(6),c.ic("ngIf",e.selectedFilter.length>0),c.Bb(5),c.ic("ngModel",e.searchName),c.Bb(11),c.ic("ngForOf",c.fc(27,9,e.allCharacters,"id",e.sortOrder)),c.Bb(3),c.ic("currentPage",e.page.currentpage)("totalItemsCount",e.page.count)("perPage",e.page.perPage)("pagesToShow",e.page.pages>4?4:e.page.pages))},directives:[u.d,u.a,u.e,u.b,d,O,r.j,u.c,P.b,P.f,P.g,P.h,P.i,r.i,v,y],pipes:[F,L],styles:[".title-custom[_ngcontent-%COMP%]{margin:0 -16px;padding:10px}.title-custom[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.mat-card-image[_ngcontent-%COMP%]{margin-bottom:0!important}.mat-card[_ngcontent-%COMP%]{margin-bottom:10px}.mat-list-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding:0!important}.spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.cards[_ngcontent-%COMP%]{background-color:#202329;padding:1rem}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:7px;max-width:300px;margin-bottom:.625rem;box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);border-radius:.625rem;overflow:hidden}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{position:relative}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;background:#202329}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block;height:auto;opacity:1;margin:0;-webkit-transition:opacity .5s ease 0s;transition:opacity .5s ease 0s}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{width:100%;opacity:.8;position:absolute;bottom:0;background:#202329;padding:.625rem;color:#fff}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1.625rem;font-weight:400;font-stretch:expanded;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#bbb;font-size:.875rem;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{background-color:#333;color:#ff9800;padding:1.25rem;height:100%}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;flex-wrap:nowrap;padding:.75rem 0 .375rem;border-bottom:1px solid #444}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;font-weight:400;color:#9e9e9e}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:200;text-align:right;padding:0;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media(max-width:400px){.cards[_ngcontent-%COMP%]{padding:.6rem}}.search-sort[_ngcontent-%COMP%]{padding-bottom:15px}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px!important}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px!important}.search-sort[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px;top:10px;position:relative}"]}),t})()},{path:":id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Fb({type:t,selectors:[["rms-rms-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Qb(0,"p"),c.sc(1,"rms-detail works!"),c.Pb())},styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[i.a.forChild(S)],i.a]}),t})();var N=n("PCNd");n.d(e,"RmsShowModule",(function(){return T}));let T=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[h],imports:[[r.b,A,N.a]]}),t})()}}]);