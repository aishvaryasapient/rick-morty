(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{WL79:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),c=n("tyNb"),i=n("fXoL"),o=n("AytR"),a=n("z6cu"),s=n("7o/Q");class l{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new g(t,this.count,this.source))}}class g extends s.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}var p=n("JIr8"),b=n("tk/3");let d=(()=>{class t{constructor(t){this._http=t,console.log(o.a.url)}getAllFilterList(){return[{name:"Species",items:[{name:"Human",selected:!1},{name:"Mytholog",selected:!1},{name:"Other Species",selected:!1}]},{name:"Gender",items:[{name:"Male",selected:!1},{name:"Female",selected:!1}]},{name:"Origin",items:[{name:"Unknown",selected:!1},{name:"Post Apocalyptic Earth",selected:!1},{name:"Nuptia 4",selected:!1},{name:"Other Origins",selected:!1}]}]}getAllChjaracters(t,e){return this._http.get(o.a.url+"character?page="+(e.length>0?t+e:t)).pipe(function(t=-1){return e=>e.lift(new l(t,e))}(1),Object(p.a)(this.handleError))}handleError(t){console.log(t);let e="";return e=t.error instanceof ErrorEvent?`Error: ${t.error.message}`:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),Object(a.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ub(b.a))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("XiUz"),h=n("bSwM"),m=n("3Pt+");function P(t,e){if(1&t){const t=i.Rb();i.Qb(0,"mat-checkbox",3),i.Yb("ngModelChange",(function(n){return i.oc(t),e.$implicit.selected=n}))("change",(function(n){i.oc(t);const r=e.$implicit,c=i.cc().$implicit;return i.cc().toggleFilter(c,r)})),i.sc(1),i.Pb()}if(2&t){const t=e.$implicit;i.ic("ngModel",t.selected),i.Bb(1),i.tc(t.name)}}function f(t,e){if(1&t&&(i.Qb(0,"div",1),i.Qb(1,"h4"),i.sc(2),i.Pb(),i.rc(3,P,2,2,"mat-checkbox",2),i.Pb()),2&t){const t=e.$implicit;i.Bb(2),i.tc(t.name),i.Bb(1),i.ic("ngForOf",t.items)}}let C=(()=>{class t{constructor(){this.filterChange=new i.n}ngOnInit(){}toggleFilter(t,e){this.filterChange.emit({name:t,item:e})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["rms-filter"]],inputs:{filterList:"filterList"},outputs:{filterChange:"filterChange"},decls:1,vars:1,consts:[["class","f-container","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"f-container"],[3,"ngModel","ngModelChange","change",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&i.rc(0,f,4,2,"div",0),2&t&&i.ic("ngForOf",e.filterList)},directives:[r.i,u.d,h.a,m.f,m.g],styles:[".f-container[_ngcontent-%COMP%]{border:1px solid #7d7878;min-height:100px;padding:10px;margin-bottom:10px}h4[_ngcontent-%COMP%]{margin:0}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{white-space:pre-line!important}"]}),t})();var O=n("znSr");const M=function(t){return{"btn-active":t}};function x(t,e){if(1&t){const t=i.Rb();i.Qb(0,"li",5),i.Yb("click",(function(n){i.oc(t);const r=e.$implicit;return i.cc().onPage(r)})),i.Qb(1,"button",7),i.sc(2),i.Pb(),i.Pb()}if(2&t){const t=e.$implicit,n=i.cc();i.Bb(1),i.ic("ngClass",i.lc(2,M,t===n.currentPage)),i.Bb(1),i.tc(t)}}let _=(()=>{class t{constructor(){this.currentPage=1,this.perPage=20,this.prev=new i.n,this.next=new i.n,this.goPage=new i.n}ngOnInit(){console.log(this.currentPage)}onPage(t){this.currentPage=t,console.log(this.currentPage),this.goPage.emit(t),console.log(this.getPages())}isOnLastPage(){return this.perPage*this.currentPage>=this.totalItemsCount}totalPages(){return Math.ceil(this.totalItemsCount/this.perPage)||0}getMin(){return this.perPage*this.currentPage-this.perPage+1}getMax(){let t=this.perPage*this.currentPage;return t>this.totalItemsCount&&(t=this.totalItemsCount),t}onPrev(){this.onPage(this.currentPage-1)}onNext(){this.onPage(this.currentPage+1)}getPages(){const t=Math.ceil(this.totalItemsCount/this.perPage),e=this.pagesToShow||9,n=[];n.push(this.currentPage||1);const r=e-1;for(let c=0;c<r;c++)n.length<e&&Math.min.apply(null,n)>1&&n.push(Math.min.apply(null,n)-1),n.length<e&&Math.max.apply(null,n)<t&&n.push(Math.max.apply(null,n)+1);return n.sort((t,e)=>t-e),n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["rms-pagination"]],inputs:{currentPage:"currentPage",totalItemsCount:"totalItemsCount",perPage:"perPage",pagesToShow:"pagesToShow"},outputs:{prev:"prev",next:"next",goPage:"goPage"},decls:9,vars:3,consts:[["aria-label","..."],[1,"pagination"],[1,"page-item","disabled",3,"click"],["tabindex","-1",1,"page-link",3,"disabled"],["class","page-item",3,"click",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link",3,"disabled"],[1,"page-link",3,"ngClass"]],template:function(t,e){1&t&&(i.Qb(0,"nav",0),i.Qb(1,"ul",1),i.Qb(2,"li",2),i.Yb("click",(function(t){return e.onPrev()})),i.Qb(3,"button",3),i.sc(4,"Previous"),i.Pb(),i.Pb(),i.rc(5,x,3,4,"li",4),i.Qb(6,"li",5),i.Yb("click",(function(t){return e.onNext()})),i.Qb(7,"button",6),i.sc(8,"Next"),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.Bb(3),i.ic("disabled",1===e.currentPage),i.Bb(2),i.ic("ngForOf",e.getPages()),i.Bb(2),i.ic("disabled",e.isOnLastPage()))},directives:[r.i,r.h,O.a],styles:[".pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:inline;padding-left:0}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px}.btn-active[_ngcontent-%COMP%]{background-color:#00f;color:#fff;border-color:#00f}"]}),t})();var v=n("bTqV"),w=n("NFeN");let Q=(()=>{class t{constructor(){this.removeFilter=new i.n}ngOnInit(){}removeChip(){this.removeFilter.emit(this.chipsInput)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["rms-chips"]],inputs:{chipsInput:"chipsInput"},outputs:{removeFilter:"removeFilter"},decls:7,vars:1,consts:[["fxLayoutAlign","center center",1,"chip"],["fxFlex",""],["mat-icon-button","","aria-label","Remove Filter",3,"click"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"span"),i.sc(2),i.Pb(),i.Mb(3,"span",1),i.Qb(4,"button",2),i.Yb("click",(function(t){return e.removeChip()})),i.Qb(5,"mat-icon"),i.sc(6,"clear"),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.Bb(2),i.tc(e.chipsInput.item.name))},directives:[u.c,u.a,v.a,w.a],styles:[".chip[_ngcontent-%COMP%]{border:1px solid grey;padding:5px;border-radius:5px;color:#fff;background-color:grey;margin-right:10px;margin-bottom:10px}.mat-icon-button[_ngcontent-%COMP%]{line-height:30px;width:30px;height:30px}"]}),t})(),F=(()=>{class t{getComparer(t){return function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}}getDescendigComparer(t){return function(e,n){return-1*t(e,n)}}transform(t,e,n=!1){return t&&t.length&&e?(t.sort((t,r)=>n?(console.log("Order True"),t[e]<r[e]?1:t[e]>r[e]?-1:0):(console.log("Order False"),t[e]<r[e]?-1:t[e]>r[e]?1:0)),t):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Kb({name:"sort",type:t,pure:!0}),t})(),y=(()=>{class t{transform(t){return window.moment(t).fromNow()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Kb({name:"elaspedTime",type:t,pure:!0}),t})();function k(t,e){if(1&t){const t=i.Rb();i.Qb(0,"rms-chips",23),i.Yb("removeFilter",(function(e){return i.oc(t),i.cc(2).filterChange(e)})),i.Pb()}2&t&&i.ic("chipsInput",e.$implicit)}function I(t,e){if(1&t&&(i.Ob(0),i.rc(1,k,1,1,"rms-chips",22),i.Nb()),2&t){const t=i.cc();i.Bb(1),i.ic("ngForOf",t.selectedFilter)}}function L(t,e){if(1&t&&(i.Qb(0,"div",24),i.Qb(1,"div",25),i.Qb(2,"div",26),i.Mb(3,"img",27),i.Pb(),i.Qb(4,"div",28),i.Qb(5,"h2"),i.sc(6),i.Pb(),i.Qb(7,"p"),i.sc(8),i.dc(9,"elaspedTime"),i.Pb(),i.Pb(),i.Pb(),i.Qb(10,"div",29),i.Qb(11,"div",30),i.Qb(12,"span"),i.sc(13,"STATUS"),i.Pb(),i.Qb(14,"p"),i.sc(15),i.Pb(),i.Pb(),i.Qb(16,"div",30),i.Qb(17,"span"),i.sc(18,"SPECIES"),i.Pb(),i.Qb(19,"p"),i.sc(20),i.Pb(),i.Pb(),i.Qb(21,"div",30),i.Qb(22,"span"),i.sc(23,"GENDER"),i.Pb(),i.Qb(24,"p"),i.sc(25),i.Pb(),i.Pb(),i.Qb(26,"div",30),i.Qb(27,"span"),i.sc(28,"ORIGIN"),i.Pb(),i.Qb(29,"p"),i.sc(30),i.Pb(),i.Pb(),i.Qb(31,"div",30),i.Qb(32,"span"),i.sc(33,"LAST LOCATION"),i.Pb(),i.Qb(34,"p"),i.sc(35),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t){const t=e.$implicit;i.Bb(3),i.jc("alt",t.image),i.ic("src",t.image,i.pc),i.Bb(3),i.tc(t.name),i.Bb(2),i.vc("id: ",t.id," - ",i.ec(9,10,t.created),""),i.Bb(7),i.tc(t.status),i.Bb(5),i.tc(t.species),i.Bb(5),i.tc(t.gender),i.Bb(5),i.tc(t.origin.name),i.Bb(5),i.tc(t.location.name)}}const B=[{path:"",component:(()=>{class t{constructor(t){this._rmsService=t,this.page={count:0,currentpage:1,pages:0,perPage:20},this.selectedFilter=[]}ngOnInit(){this.filterList=this._rmsService.getAllFilterList(),this.getAllCharacters(1)}getAllCharacters(t){let e="";this.selectedFilter.length>0&&this.selectedFilter.forEach(t=>{e+="&"+t.name.name.toLowerCase()+"="+t.item.name}),this.searchName&&(e+="&name="+this.searchName),this._rmsService.getAllChjaracters(t,e).subscribe(t=>{this.page.count=t.info.count,this.page.pages=t.info.pages,this.allCharacters=t.results},t=>{console.log(t)})}filterChange(t){console.log(t);let e=this.selectedFilter.findIndex(e=>e.item===t.item);-1===e?this.selectedFilter.push(t):(this.filterList.find(t=>t.name===this.selectedFilter[e].name.name).items.find(t=>t.name===this.selectedFilter[e].item.name).selected=!1,this.selectedFilter.splice(e,1)),this.getAllCharacters(this.page.currentpage)}goToPage(t){this.page.currentpage=t,this.getAllCharacters(this.page.currentpage)}sortingOnChange(t){this.sortOrder=t,this.allCharacters=[...this.allCharacters]}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(d))},t.\u0275cmp=i.Fb({type:t,selectors:[["rms-rms-list"]],decls:30,vars:12,consts:[["fxLayout","row","fxLayout.xs","column","fxFlex","","fxLayoutGap","20px"],["fxLayout","column","fxFlex","18","fxFlexOffset","20px",1,"p-fixed"],[3,"filterList","filterChange"],["fxLayout","column","fxFlex","80"],["fxLayout","column"],["fxLayout","row wrap"],["fxFlex","100"],[4,"ngIf"],["fxLayoutAlign","space-between center",1,"search-sort"],[1,"search"],["for","search"],["type","text","id","search","placeholder","",3,"ngModel","ngModelChange"],["color","primary",3,"click"],[1,"sort"],[3,"change"],["sortVar",""],["value","false"],["value","true"],["fxLayout","row wrap","fxFlex","",1,"cards"],["fxFlex","24","fxFlex.xs","47","class","card",4,"ngFor","ngForOf"],["fxLayoutAlign","end"],[3,"currentPage","totalItemsCount","perPage","pagesToShow","prev","next","goPage"],[3,"chipsInput","removeFilter",4,"ngFor","ngForOf"],[3,"chipsInput","removeFilter"],["fxFlex","24","fxFlex.xs","47",1,"card"],[1,"card-header"],[1,"card-image"],[3,"src","alt"],[1,"card-title"],[1,"card-info"],[1,"list-item"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Qb(1,"div",1),i.Qb(2,"h3"),i.sc(3,"Filter"),i.Pb(),i.Qb(4,"rms-filter",2),i.Yb("filterChange",(function(t){return e.filterChange(t)})),i.Pb(),i.Pb(),i.Qb(5,"div",3),i.Qb(6,"div",4),i.Qb(7,"div",5),i.Qb(8,"h3",6),i.sc(9,"Selected Filters"),i.Pb(),i.rc(10,I,2,1,"ng-container",7),i.Pb(),i.Qb(11,"div",8),i.Qb(12,"div",9),i.Qb(13,"label",10),i.sc(14,"Search By Name"),i.Pb(),i.Qb(15,"input",11),i.Yb("ngModelChange",(function(t){return e.searchName=t})),i.Pb(),i.Qb(16,"button",12),i.Yb("click",(function(t){return e.getAllCharacters(e.page.currentpage)})),i.sc(17,"Search"),i.Pb(),i.Pb(),i.Qb(18,"div",13),i.Qb(19,"select",14,15),i.Yb("change",(function(t){return e.sortOrder=t.target.value})),i.Qb(21,"option",16),i.sc(22,"Ascending"),i.Pb(),i.Qb(23,"option",17),i.sc(24,"Descending"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(25,"div",18),i.rc(26,L,36,12,"div",19),i.dc(27,"sort"),i.Pb(),i.Qb(28,"div",20),i.Qb(29,"rms-pagination",21),i.Yb("prev",(function(t){return e.goToPage(t)}))("next",(function(t){return e.goToPage(t)}))("goPage",(function(t){return e.goToPage(t)})),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.Bb(4),i.ic("filterList",e.filterList),i.Bb(6),i.ic("ngIf",e.selectedFilter.length>0),i.Bb(5),i.ic("ngModel",e.searchName),i.Bb(11),i.ic("ngForOf",i.fc(27,8,e.allCharacters,"id",e.sortOrder)),i.Bb(3),i.ic("currentPage",e.page.currentpage)("totalItemsCount",e.page.count)("perPage",e.page.perPage)("pagesToShow",e.page.pages>4?4:e.page.pages))},directives:[u.d,u.a,u.e,u.b,C,r.j,u.c,m.b,m.f,m.g,m.h,m.i,r.i,_,Q],pipes:[F,y],styles:[".title-custom[_ngcontent-%COMP%]{margin:0 -16px;padding:10px}.title-custom[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.mat-card-image[_ngcontent-%COMP%]{margin-bottom:0!important}.mat-card[_ngcontent-%COMP%]{margin-bottom:10px}.mat-list-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.mat-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{padding:0!important}.spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.cards[_ngcontent-%COMP%]{background-color:#202329;padding:1rem}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:7px;max-width:300px;margin-bottom:.625rem;box-shadow:0 2px 2px 0 rgba(0,0,0,.16),0 0 0 1px rgba(0,0,0,.08);border-radius:.625rem;overflow:hidden}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{position:relative}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;background:#202329}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block;height:auto;opacity:1;margin:0;-webkit-transition:opacity .5s ease 0s;transition:opacity .5s ease 0s}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{width:100%;opacity:.8;position:absolute;bottom:0;background:#202329;padding:.625rem;color:#fff}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1.625rem;font-weight:400;font-stretch:expanded;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#bbb;font-size:.875rem;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{background-color:#333;color:#ff9800;padding:1.25rem;height:100%}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;flex-wrap:nowrap;padding:.75rem 0 .375rem;border-bottom:1px solid #444}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;font-weight:400;color:#9e9e9e}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:200;text-align:right;padding:0;margin:0}.cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media(max-width:400px){.cards[_ngcontent-%COMP%]{padding:.6rem}}.search-sort[_ngcontent-%COMP%]{padding-bottom:15px}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px!important}.search-sort[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px!important}.search-sort[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px;top:10px;position:relative}"]}),t})()},{path:":id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["rms-rms-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Qb(0,"p"),i.sc(1,"rms-detail works!"),i.Pb())},styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[c.a.forChild(B)],c.a]}),t})();var A=n("PCNd");n.d(e,"RmsShowModule",(function(){return N}));let N=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[r.b,S,A.a]]}),t})()}}]);